---
- hosts:
  - parche
  become: true
  gather_facts: true
  any_errors_fatal: true
  pre_tasks:
    - name: Pausing for 5 seconds...
      ansible.builtin.pause:
        seconds: 5

  tasks:
    - name: Manage fstab
      block:
        - name: Mount Share
            ansible.posix.mount:
              path: /share
              src: UUID="8053d283-a24c-4a94-afad-6ed90133ddbe"
              fstype: ext4
              opts: defaults,x-systemd.device-timeout=0
              state: mounted
        - name: Mount Videos
            ansible.posix.mount:
              src: UUID="6c096541-f4e0-471a-8f54-c0fcb961ec94"
              path: /videos
              fstype: ext4
              opts: noatime,nodiratime,data=writeback,barrier=0,nobh,errors=remount-ro
              state: mounted
        - name: Define Seagate Backup+ 4G
            ansible.posix.mount:
              src: UUID="8276857776856D2B"
              path: /ext
              fstype: ntfs
              opts: defaults,noauto,nofail,context="system_u:object_r:public_content_rw_t:s0"
              state: present
        - name: Define Seagate 1G
            ansible.posix.mount:
              src: UUID="8E1CDFD81CDFBA03"
              path: /ext2
              fstype: ntfs
              opts: defaults,noauto,nofail,context="system_u:object_r:public_content_rw_t:s0"
              state: present
