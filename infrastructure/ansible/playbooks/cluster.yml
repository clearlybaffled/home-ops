---
# - name: Kubernetes Node setup
#   hosts: k8s_cluster
#   gather_facts: true
#   any_errors_fatal: true
#   roles:
#     - common
#     - kubernetes/node

# - name: Install CRI-O as container engine
#   hosts: kube_control_plane
#   gather_facts: true
#   any_errors_fatal: true
#   roles:
#     - common
#     - container_engine

# - name: Install kube binaries
#   hosts: kube_control_plane
#   gather_facts: true
#   any_errors_fatal: true
#   roles:
#     - download

- name: Set up control plane
  hosts: kube_control_plane
  gather_facts: true
  any_errors_fatal: true
  roles:
    - common
    - kubernetes/control_plane
    - kubernetes/cni
