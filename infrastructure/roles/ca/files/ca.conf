
[default]
name                    = ${ENV::CA_NAME}
domain_suffix           = hermleigh.home
aia_url                 = http://$name.$domain_suffix/$name.crt
crl_url                 = http://$name.$domain_suffix/$name.crl
ocsp_url                = http://ocsp.$name.$domain_suffix:9080
default_ca              = ca
name_opt                = utf8,esc_ctrl,multiline,lname,align

[ca]
home                    = $ENV::CA_HOME
database                = $home/db/index
serial                  = $home/db/serial
crlnumber               = $home/db/crlnumber
certificate             = $home/$name.crt
private_key             = $home/private/$name.key
RANDFILE                = $home/private/random
new_certs_dir           = $home/certs
unique_subject          = no
default_days            = 365
default_crl_days        = 30
copy_extensions         = none
default_md              = sha512
policy                  = policy

[req]
default_bits            = 4096
encrypt_key             = yes
default_md              = sha512
utf8                    = yes
string_mask             = utf8only
prompt                  = no
distinguished_name      = req_dn

[req_dn]
countryName             = "US"
organizationName        = "HERMLEIGH.HOME"
commonName              = $ENV::CN

[ca_ext]
basicConstraints        = critical,CA:true
keyUsage                = critical,keyCertSign,cRLSign,digitalSignature
extendedKeyUsage        = critical,codeSigning,clientAuth,serverAuth,emailProtection,timeStamping
authorityInfoAccess     = @issuer_info
authorityKeyIdentifier  = keyid:always
crlDistributionPoints   = @crl_info
nameConstraints         = @name_constraints
subjectKeyIdentifier    = hash

[sub_ca_ext]
basicConstraints        = critical,CA:true,pathlen:1

[crl_info]
URI.0                   = $crl_url

[issuer_info]
caIssuers;URI.0         = $aia_url
OCSP;URI.0              = $ocsp_url

[name_constraints]
#permitted;DNS.0=hermleigh.home
excluded;IP.0=0.0.0.0/0.0.0.0
excluded;IP.1=0:0:0:0:0:0:0:0/0:0:0:0:0:0:0:0

# See the POLICY FORMAT section of the `ca` man page.
[policy]
countryName             = supplied
organizationName        = match
organizationalUnitName  = optional
commonName              = supplied
emailAddress            = optional
